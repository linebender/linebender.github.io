<!doctype html>
<html lang="en">

    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <!-- Begin Jekyll SEO tag v2.8.0 -->
        <title>Backporting in Linebender projects - Linebender</title>
        <meta name="generator" content="Zola v0.17.2">
        <meta property="og:title" content="Backporting in Linebender projects">
        <meta property="og:locale" content="en_US">
        <meta name="description" content="Backporting in Linebender projects">
        <meta property="og:description"
            content="Backporting in Linebender projects">
        <meta property="og:site_name" content="Linebender">
        <meta property="og:type" content="website">
        <meta name="twitter:card" content="summary">
        <meta property="twitter:title" content="Backporting in Linebender projects">
        <!-- End Jekyll SEO tag -->
        <link rel="stylesheet" href="/main.css">
        
        
        <link type="application/atom+xml" rel="alternate" href="/atom.xml" title="Linebender">
        
        
        <!-- mathjax support -->
        <script>
            MathJax = {
                tex: {
                    inlineMath: [['$', '$']]
                }
            };
        </script>
        <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    </head>

    <body cz-shortcut-listen="true">
        <header class="site-header" role="banner">
            <div class="wrapper">
                
                <a class="site-title" rel="author" href="/">Linebender</a>
                <nav class="site-nav">
                    <input type="checkbox" id="nav-trigger" class="nav-trigger">
                    <label for="nav-trigger" role="none">
                        <span class="menu-icon">
                            <svg viewBox="0 0 18 15" width="18px" height="15px">
                                <path
                                    d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z">
                                </path>
                            </svg>
                        </span>
                    </label>
                    <div class="trigger">
                        
                        <a class="page-link" href="/about">About</a>
                        <a class="page-link" href="/blog">Blog</a>
                        <a class="page-link" href="/wiki">Wiki</a>
                        
                    </div>
                </nav>
                
            </div>
        </header>
        <main class="page-content" aria-label="Content">
            <div class="wrapper">
                
<h1>Backporting in Linebender projects</h1>
<h2 id="when-to-backport">When to backport</h2>
<p>Generally we publish the latest state of the <code>main</code> branch.
However, if <code>main</code> has breaking changes or we want an older release series to receive some non-breaking changes, then we can't just publish <code>main</code>.
That's when we need to create a backporting branch to achieve that goal.</p>
<p>The example commands below are based on Color and its <code>main</code> already being at <code>v0.3.1</code> when we also wanted to release a <code>v0.2.4</code>, with <code>v0.2.3</code> being the latest in that series.
Make sure you modify the commands based on your actual versions.</p>
<h2 id="create-the-backport-branch">Create the backport branch</h2>
<p>The backport branch needs to be based on the most recent release tag in the series.
It must be named so it matches <code>v*.x</code>, e.g. <code>v0.2.x</code> or <code>v1.x.x</code>.
This branch will be used for all future releases in this series.</p>
<pre data-lang="sh" style="background-color:#2b303b;color:#c0c5ce;" class="language-sh "><code class="language-sh" data-lang="sh"><span style="color:#bf616a;">git</span><span> checkout</span><span style="color:#bf616a;"> -b</span><span> v0.2.x v0.2.3
</span></code></pre>
<p>Then push it to the Linebender GitHub repository.</p>
<pre data-lang="sh" style="background-color:#2b303b;color:#c0c5ce;" class="language-sh "><code class="language-sh" data-lang="sh"><span style="color:#bf616a;">git</span><span> push</span><span style="color:#bf616a;"> --set-upstream</span><span> origin v0.2.x
</span></code></pre>
<h2 id="committing-changes-to-the-backport-branch">Committing changes to the backport branch</h2>
<p>All changes need to go through our usual review process via GitHub pull requests.</p>
<p>Create a working branch based on the backport branch.</p>
<pre data-lang="sh" style="background-color:#2b303b;color:#c0c5ce;" class="language-sh "><code class="language-sh" data-lang="sh"><span style="color:#bf616a;">git</span><span> checkout</span><span style="color:#bf616a;"> -b</span><span> my-changes v0.2.x
</span></code></pre>
<p>Then make your actual changes and open a pull request which targets the backport branch instead of <code>main</code>.</p>
<h2 id="cherry-picking-vs-new-changes">Cherry picking vs. new changes</h2>
<p>If the desired changes already exist in <code>main</code> or another backport branch, then those commits should be cherry picked.
The changelog entries must go into the <em>Unreleased</em> section of the backport branch's <code>CHANGELOG.md</code>.
Open a pull request targeting the backport branch with one or more cherry picked commits, their changelog entries, and no other changes.
Once the pull request has been approved, it must be merged using the <strong>Rebase and merge</strong> option on GitHub.</p>
<p>All other changes, including any final release preparation commits, need to be separate from any cherry picked pull requests.
Once these pull requests have been approved, they must be merged using the <strong>Squash and merge</strong> option on GitHub.</p>
<h2 id="changelog-modifications">Changelog modifications</h2>
<p>In addition to the usual changes, the changelog header section must be updated as follows:</p>
<pre data-lang="diff" style="background-color:#2b303b;color:#c0c5ce;" class="language-diff "><code class="language-diff" data-lang="diff"><span style="color:#bf616a;">- The latest published Color release is [0.2.3](#023-2025-01-20) which was released on 2025-01-20.
</span><span style="color:#bf616a;">- You can find its changes [documented below](#023-2025-01-20).
</span><span style="color:#a3be8c;">+ This is the backport branch for Color 0.2.x.
</span><span style="color:#a3be8c;">+ For the latest releases, check the [changelog on `main`](https://github.com/linebender/color/blob/main/CHANGELOG.md).
</span><span style="color:#a3be8c;">+ The latest published Color release in the 0.2.x series is [0.2.4](#024-2025-05-19) which was released on 2025-05-19.
</span><span style="color:#a3be8c;">+ You can find its changes [documented below](#024-2025-05-19).
</span></code></pre>
<p>Plus the <em>Unreleased</em> link in the footer must compare this specific backport branch:</p>
<pre data-lang="diff" style="background-color:#2b303b;color:#c0c5ce;" class="language-diff "><code class="language-diff" data-lang="diff"><span style="color:#bf616a;">- [Unreleased]: https://github.com/linebender/color/compare/v0.2.4...HEAD
</span><span style="color:#a3be8c;">+ [Unreleased]: https://github.com/linebender/color/compare/v0.2.4...v0.2.x
</span></code></pre>
<h2 id="forward-porting-the-changelog">Forward-porting the changelog</h2>
<p>After a backport release has been published, its changelog section must be added to the <code>main</code> changelog.
Insert it into the correct middle spot, ordered based on the version number.</p>
<h2 id="branch-lifecycle">Branch lifecycle</h2>
<p>Due to resource constraints we want to promote development in <code>main</code>.
We only want to do backporting in exceptional circumstances.
This means that once a backport release has been made and the correct git tag has been created, we might delete the backport branch.
If another backport release needs to happen in the same series, then the branch may have to be re-created from the aforementioned tag.</p>


            </div>
        </main>
        <footer class="site-footer h-card">
            <div class="wrapper">
                
                <h2 class="footer-heading">Linebender</h2>
                <div class="footer-col-wrapper">
                    <div class="footer-col footer-col-1">
                        <ul class="contact-list">
                            <li class="p-name">Linebender</li>
                            <li><a class="u-email" href="mailto:raph@levien.com">raph@levien.com</a></li>
                        </ul>
                    </div>

                    <div class="footer-col footer-col-2">
                        <ul class="social-media-list">
                            <li><a href="https://github.com/linebender">
                                <svg class="svg-icon" role="none">
                                    <use xlink:href="/minima-social-icons.svg#github"></use>
                                </svg>
                                <span class="username">linebender</span>
                            </a></li>
                        </ul>
                    </div>

                    <div class="footer-col footer-col-3">
                        <p>&copy; 2023 The Linebender Authors.</p>
                        <p>
                            <a rel="license" href="http://creativecommons.org/licenses/by/4.0/">
                                <img alt="Creative Commons License" style="border-width:0"
                                    src="https://i.creativecommons.org/l/by/4.0/88x31.png" />
                            </a>
                            <br />
                            This website's content is licensed under a
                            <a rel="license" href="http://creativecommons.org/licenses/by/4.0/">
                                Creative Commons Attribution 4.0 International License
                            </a>.
                        </p>
                        <p>All code used in this website is available under the Apache-2.0 license.</p>
                    </div>
                </div>
                
            </div>
        </footer>
    </body>

</html>
